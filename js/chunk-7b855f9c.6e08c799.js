(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b855f9c"],{"25f0":function(t,e,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),l=a("ad6d"),o="toString",c=RegExp.prototype,s=c[o],u=i((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),f=s.name!=o;(u||f)&&n(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in c)?l.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},2909:function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function r(t){if(Array.isArray(t))return n(t)}a.d(e,"a",(function(){return c}));a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}a("fb6a"),a("b0c0"),a("25f0");function l(t,e){if(t){if("string"===typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||l(t)||o()}},"2dbb":function(t,e,a){"use strict";var n=a("fccf"),r=a.n(n);r.a},"3ca3":function(t,e,a){"use strict";var n=a("6547").charAt,r=a("69f3"),i=a("7dd0"),l="String Iterator",o=r.set,c=r.getterFor(l);i(String,"String",(function(t){o(this,{type:l,string:String(t),index:0})}),(function(){var t,e=c(this),a=e.string,r=e.index;return r>=a.length?{value:void 0,done:!0}:(t=n(a,r),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,a){"use strict";var n=a("0366"),r=a("7b0b"),i=a("9bdd"),l=a("e95a"),o=a("50c4"),c=a("8418"),s=a("35a1");t.exports=function(t){var e,a,u,f,p,d,m=r(t),b="function"==typeof this?this:Array,g=arguments.length,h=g>1?arguments[1]:void 0,v=void 0!==h,y=s(m),S=0;if(v&&(h=n(h,g>2?arguments[2]:void 0,2)),void 0==y||b==Array&&l(y))for(e=o(m.length),a=new b(e);e>S;S++)d=v?h(m[S],S):m[S],c(a,S,d);else for(f=y.call(m),p=f.next,a=new b;!(u=p.call(f)).done;S++)d=v?i(f,h,[u.value,S],!0):u.value,c(a,S,d);return a.length=S,a}},6547:function(t,e,a){var n=a("a691"),r=a("1d80"),i=function(t){return function(e,a){var i,l,o=String(r(e)),c=n(a),s=o.length;return c<0||c>=s?t?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===s||(l=o.charCodeAt(c+1))<56320||l>57343?t?o.charAt(c):i:t?o.slice(c,c+2):l-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),l=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:l},{from:r})},c667:function(t,e,a){t.exports=a.p+"img/rainfallicon.1f098ead.png"},d28b:function(t,e,a){var n=a("746f");n("iterator")},d7bf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rainfall"},[t._m(0),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"等待政府資料中..."}},[a("el-col",{attrs:{xs:24,span:10}},[a("l-map",{staticClass:"map",attrs:{zoom:t.zoom,options:t.options,center:t.center}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.originalData,(function(e){return a("l-marker",{key:e.name,ref:"location",refInFor:!0,attrs:{"lat-lng":e.local},on:{click:function(a){return t.tableHighlight(e.SiteName)}}},[a("l-icon",{attrs:{"icon-url":t.iconimg}}),a("l-popup",{staticStyle:{"text-align":"center"}},[a("div",[t._v(t._s(e.SiteName))])])],1)}))],2)],1),a("el-col",{attrs:{xs:24,span:14}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rainfallData,height:"500",border:""}},[a("el-table-column",{attrs:{sortable:"",prop:"Township",label:"地區"}}),a("el-table-column",{attrs:{sortable:"",prop:"SiteName",label:"測站名稱"}}),a("el-table-column",{attrs:{sortable:"",prop:"Rainfall10min",label:"10分鐘累積雨量"}}),a("el-table-column",{attrs:{sortable:"",prop:"Rainfall1hr",label:"1小時累積雨量"}}),a("el-table-column",{attrs:{sortable:"",prop:"Rainfall3hr",label:"3小時累積雨量"}}),a("el-table-column",{attrs:{sortable:"",prop:"Rainfall6hr",label:"6小時累積雨量"}}),a("el-table-column",{attrs:{sortable:"",prop:"Rainfall12hr",label:"12小時累積雨量"}}),a("el-table-column",{attrs:{sortable:"",prop:"Rainfall24hr",label:"24小時累積雨量"}}),a("el-table-column",{attrs:{sortable:"",prop:"NOW",label:"今日累積雨量"}})],1)],1)],1),0!==t.rainfallData.length?a("div",{staticClass:"remindText"},[a("span",[t._v("更新時間 : "+t._s(t.rainfallData[0].updateTime))]),a("span",{staticStyle:{"margin-left":"30px"}},[t._v("單位 : 毫米")])]):t._e()],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{margin:"0 15px 0 15px"}},[a("div",{staticClass:"col-12 col-xl-12 text-center"},[a("span",{staticClass:"badge badge-pill badge-info animate__animated animate__fadeInUp title",staticStyle:{"animation-duration":"1s","animation-iteration-count":"1"}},[t._v("高雄地區降雨")])])])}],i=(a("99af"),a("4de4"),a("4160"),a("c975"),a("a434"),a("159b"),a("2909")),l=(a("96cf"),a("1da1")),o=a("bc3a"),c=a.n(o),s={mounted:function(){this.getMap(),this.getData=setInterval(this.getMap,18e4)},destroyed:function(){clearInterval(this.getData)},data:function(){return{getData:"",loading:!0,zoom:8,center:[23.013986,120.586665],iconimg:a("c667"),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',options:{zoomControl:!1},rainfallData:[],originalData:[]}},methods:{getMap:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="https://opendata.cwb.gov.tw/fileapi/v1/opendataapi/O-A0002-001?Authorization=CWB-F2A736D8-3A15-435E-8BED-D8993F84938C&format=JSON",c.a.get(a).then((function(e){var a=e.data.cwbopendata.location.filter((function(t){return"高雄市"===t.parameter[0].parameterValue}));a.forEach((function(e){for(var a="",n=e.time.obsTime.indexOf("T"),r=e.time.obsTime.indexOf("+"),i=0;i<n;i++)a+=e.time.obsTime[i];a+="  ";for(var l=r-n+2;l<r;l++)a+=e.time.obsTime[l];e.weatherElement.forEach((function(t){parseFloat(t.elementValue.value)<0&&(t.elementValue.value="0.00")}));var o={updateTime:a,SiteName:e.locationName,Township:e.parameter[2].parameterValue,local:[e.lat,e.lon],Rainfall10min:e.weatherElement[2].elementValue.value,Rainfall1hr:e.weatherElement[1].elementValue.value,Rainfall3hr:e.weatherElement[3].elementValue.value,Rainfall6hr:e.weatherElement[4].elementValue.value,Rainfall12hr:e.weatherElement[5].elementValue.value,Rainfall24hr:e.weatherElement[6].elementValue.value,NOW:e.weatherElement[7].elementValue.value};t.originalData.push(o)})),t.rainfallData=t.originalData,console.log(t.originalData),t.loading=!1})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},tableHighlight:function(t){var e;console.log(t);var a=this.originalData.filter((function(e){return e.SiteName===t}));this.rainfallData=this.originalData.filter((function(e){return e.SiteName!==t})),(e=this.rainfallData).splice.apply(e,[0,0].concat(Object(i["a"])(a)));var n=document.getElementsByClassName("el-table__row")[0];n.style.backgroundColor="#AAFFEE"}}},u=s,f=(a("2dbb"),a("2877")),p=Object(f["a"])(u,n,r,!1,null,"8309098c",null);e["default"]=p.exports},ddb0:function(t,e,a){var n=a("da84"),r=a("fdbc"),i=a("e260"),l=a("9112"),o=a("b622"),c=o("iterator"),s=o("toStringTag"),u=i.values;for(var f in r){var p=n[f],d=p&&p.prototype;if(d){if(d[c]!==u)try{l(d,c,u)}catch(b){d[c]=u}if(d[s]||l(d,s,f),r[f])for(var m in i)if(d[m]!==i[m])try{l(d,m,i[m])}catch(b){d[m]=i[m]}}}},e01a:function(t,e,a){"use strict";var n=a("23e7"),r=a("83ab"),i=a("da84"),l=a("5135"),o=a("861d"),c=a("9bf2").f,s=a("e893"),u=i.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};s(p,u);var d=p.prototype=u.prototype;d.constructor=p;var m=d.toString,b="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=m.call(t);if(l(f,t))return"";var a=b?e.slice(7,-1):e.replace(g,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:p})}},fccf:function(t,e,a){}}]);
//# sourceMappingURL=chunk-7b855f9c.6e08c799.js.map